
\subsection{Program Graph Semantics: Finding Models (Masks)}
\begin{definition}[Classical Model Mask]
  Given a program graph $G_P = \langle V_c \cup V_d \cup V_a, E_{+}, E_{-} \rangle$,
  a subgraph $CM = \langle Vm, Em_{+}, Em_{-} \rangle \subseteq G_P$ is a \emph{classical model mask} of $G_P$
  iff:
  \begin{itemize}
    \item
    $Vm =
      % take the boxes for which we already have all the incoming edges (facts are trivial)
      \{ \ell \in V_c \cup V_d \mid \forall (a,\ell) [(a,\ell) \in E_{+} \rightarrow (a,\ell) \in Em{+}] \} \cup
    $
    \item $Em_{+} = Em_{+} \cup C_{hoices} \cup \bigcup_{i=1}^{n} A_i
    $

  \begin{itemize}
              % For any choice box already in the graph, take any subset of its outgoing edges
    \item where $C_{hoice} \subseteq \{ (\ell, a) \mid \ell \in Vm \land (\ell, a) \in E_{+} \}$
  \end{itemize}
\end{itemize}

\end{definition}
\comment{Map the program from how to build your own asp system and Susana's}

\begin{definition}[(minimal) Model Mask]
  Given a program graph $G_P = \langle V_c \cup V_d \cup V_a, E_{+}, E_{-} \rangle$,
  we say a valid \emph{classical model mask} $CM = \langle V, E_{+}, E_{-} \rangle$ of $G_P$
  is a \emph{(minimal) Model Mask} $MG$ of $G_P$
  iff
  \begin{center}
    $MG$ is $\subseteq-minimal$ among all the \emph{classical model masks} of $G_P$.
  \end{center}
\end{definition}
\comment{Map the program from how to build your own asp system and Susana's}


\comment{S: Given a program graph we can also compute the models. I think this should be made clear somewhere, this is just a sketch, I am not sure how to write it.}
\begin{definition}[Model Subgraph Computed]
  Given a program graph $G_P = \langle V_c \cup V_d \cup V_a, E_{+} \cup E_{-} \rangle$,
  a \emph{Model Subgraph} is a pair $MG_P^I = \langle V, E \rangle$ such that
  \begin{itemize}
    % Body satisfaction
    \item for any $\ell\in V_d\cup V_c$,
    if $a\in V$ for all $(a, \ell) \in E_{+}$
    and $a\not\in V$ for all $(a, \ell) \in E_{-}$,
    then $\ell \in V$.

    % Atom satisfied by disjunction
    \item for all $\ell\in V_d\cap V$ then for (exactly one) $(\ell,a) \in E_{+}$ happens $a\in V$.

    % Atom satisfied by choice
    \item for all $\ell\in V_c\cap V$ then for any $(\ell,a) \in E_{+}$, $a\in V$ is optional.


  \end{itemize}
\end{definition}
